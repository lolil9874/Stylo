/* Reset et base */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    overflow: hidden;
    user-select: none;
    -webkit-user-select: none;
}

/* Floating panel with liquid glass effect */
.floating-panel {
    width: 100%;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border-radius: 8px;
    position: relative;
    cursor: move;
    overflow: visible;
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 
        0 4px 20px rgba(0, 0, 0, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.5);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Hover effect for floating panel */
.floating-panel:hover {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.4);
    box-shadow: 
        0 8px 30px rgba(0, 0, 0, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.6);
    transform: translateY(-2px);
}

/* Bordure avec dégradé angulaire comme dans le SVG */
.gradient-border {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: 8px;
    background: conic-gradient(
        from 90deg,
        rgba(0, 0, 0, 0.184) 0deg,
        rgba(0, 0, 0, 0.352) 42.984deg,
        rgba(0, 0, 0, 0) 132.984deg,
        rgba(0, 0, 0, 0.352) 222.984deg,
        rgba(0, 0, 0, 0) 312.984deg,
        rgba(0, 0, 0, 0.184) 360deg
    );
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask-composite: xor;
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    padding: 0.5px;
    z-index: 1;
}

/* Zone de déplacement */
.draggable-area {
    -webkit-app-region: drag;
}

/* Button container */
.button-container {
    display: flex;
    gap: 12px;
    padding: 0 12px;
    align-items: center;
    -webkit-app-region: no-drag;
    position: relative;
    z-index: 2;
}

/* Button style */
.action-button {
    position: relative;
    width: 32px;
    height: 32px;
    border: none;
    border-radius: 6px;
    background: transparent;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    -webkit-app-region: no-drag;
}

/* Hover animation */
.action-button:hover {
    transform: translateY(-1px);
    background: rgba(0, 0, 0, 0.08);
}

/* Animation de clic */
.action-button:active {
    transform: translateY(0) scale(0.95);
    transition: all 0.1s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Active state (selected button) */
.action-button.active {
    background: transparent;
    transform: translateY(-1px);
}

/* Animation de transition entre les états */
.action-button:not(.active) {
    color: rgba(0, 0, 0, 0.3);
}

.action-button:not(.active):hover {
    color: rgba(0, 0, 0, 0.6);
}

/* Icons */
.button-icon {
    width: 22px;
    height: 22px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    /* Inactive: Black 30% opacity */
    opacity: 0.3;
}

.action-button.active .button-icon {
    transform: scale(1.1);
    /* Active: Black 100% opacity */
    opacity: 1;
}

.action-button:hover .button-icon {
    /* Hover: Black 60% opacity */
    opacity: 0.6;
}

/* Ensure icons are visible by default */
.action-button .button-icon {
    display: block;
    visibility: visible;
}

/* Special voice button */
.voice-button {
    background: transparent;
}

.voice-button:hover {
    background: transparent;
}

.voice-button.active {
    background: transparent;
}

/* Minimalistic pulse animation for active voice button */
.voice-button.active::before {
    content: '';
    position: absolute;
    top: -1px;
    left: -1px;
    right: -1px;
    bottom: -1px;
    background: rgba(0, 0, 0, 0.1);
    border-radius: 8px;
    z-index: -1;
    animation: subtlePulse 2s infinite;
}

@keyframes subtlePulse {
    0% {
        transform: scale(1);
        opacity: 0.1;
    }
    50% {
        transform: scale(1.02);
        opacity: 0.2;
    }
    100% {
        transform: scale(1);
        opacity: 0.1;
    }
}

/* Animation d'apparition des boutons */
.action-button {
    animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) both;
}

.action-button:nth-child(1) { animation-delay: 0.1s; }
.action-button:nth-child(2) { animation-delay: 0.2s; }
.action-button:nth-child(3) { animation-delay: 0.3s; }
.action-button:nth-child(4) { animation-delay: 0.4s; }
.action-button:nth-child(5) { animation-delay: 0.5s; }

@keyframes slideInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Effet de vague lors du clic */
.action-button::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(0, 0, 0, 0.1);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
}

.action-button.clicked::after {
    width: 80px;
    height: 80px;
}

/* Responsive pour différentes tailles d'écran */
@media (max-width: 480px) {
    .button-container {
        gap: 15px;
        padding: 0 15px;
    }
    
    .action-button {
        width: 36px;
        height: 36px;
    }
    
    .button-icon {
        width: 16px;
        height: 16px;
    }
}